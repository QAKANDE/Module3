<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
<link rel="stylesheet" href="./css/style.css">
<title>Playlist</title>
<style>
   
.list {
	list-style-type: none;
	color: whitesmoke;

	max-height: 600px;
	
    margin-bottom: 10px;
    overflow:scroll;
    -webkit-overflow-scrolling: touch;
	overflow-x: hidden;

}
.container-fluid .row nav .sidebar-sticky .col .nav li a{
	color: white;
}
.container-fluid .row nav .sidebar-sticky .col .nav li a:hover{
	color: rgba(241, 234, 234, 0.89);
    font-size: larger;
    border-left: 3px solid green;
    text-decoration: none;
}

footer{
     background-color: rgb(53, 52, 52);
      position:sticky;
      left: 0;
      bottom: 0;
      max-width:100%;
      max-height:auto;
      height: 100%;
}
    

/* width */
::-webkit-scrollbar {
  width: 10px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #888; 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555; 
}

</style>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
</head>
<body>
		<div class="container-fluid home-content" style="height: 90%; ">
			<div class="row">
				<nav class="col-sm-3 col-md-3 col-lg-2 d-none d-md-block  sidebar" style="background-color: black;">
					<div class="sidebar-sticky d-flex flex-column justify-content-between" style="position: sticky; top: 0;height: 95vh;align-content:space-between">
						<div class="col">
						   <ul class="nav flex-column justify-content-center  mb-3  mb-auto">
							   <li class="nav-item mt-2  w-100 justify-content-center align-items-center">
								<img src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_White.png" style="object-fit: cover; width:150px;">
							   </li>
							
<li class="mt-3  nav-item active"><a href="home.html"><i class="fa fa-home mr-3"></i>Home</a></li>
<li class="mt-3  nav-item"><a href="search.html"><i class="fa fa-search mr-3"></i>Search</a></li>
<li class="mt-3  nav-item"><a href="playlist.html"><i class="fa fa-book  mr-3"></i>Your Library</a></li>

							</ul>
						</div>
					  <div class="col d-flex flex-column ">
							 <ul class="nav flex-column justify-content-center align-items-center w-100 mt-auto pb-5">
							   <li class="nav-item w-100 mb-3  border-bottom border-light pb-2">
								 <a href="#"><i class="fa fa-arrow-alt-circle-down"> </i> Install App</a> 
							   </li> 
							   <li class="nav-item w-100 mb-2 " >
									<img src="./assets/diego.jpg"class="image-fluid img-thumbnail border-0 rounded-circle pr-2 " style="height: 3rem; object-fit: cover;" alt="profile picture"/>
								   <div class=" d-sm-block d-md-block d-lg-inline " >
									  <span class="" style="font-size:0.8rem">Diego 'Ziba' Banovaz</span>
								   </div>
							   </li>
							 </ul>
						   </div>
						 </div>
						
				  </nav>
			

		  
				<div class="col-sm-12 col-md-9 col-lg-10 music-list" id="playlistBackground" style="background-color: rgb(19, 18, 18);">
					<nav class="navbar navbar-expand-lg navbar-dark pt-3 mb-3">
                 
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						  <span class="navbar-toggler-icon"></span>
						</button>
					  
			
					  </nav>
					
						<div class="row mb-5 mt-5">
						<div class="col-sm-12 col-lg-5 album-cover" >
							
						</div>
						<div class="col-sm-12 col-md-12 col-lg-7 pl-3" >
							<ul class="list">

							</ul>
							
							
							
						</div>
						</div>
						<div class="filter ml-5">
							
						</div>
						<div class="row album-list row-cols-1 row-cols-md-2 row-cols-lg-4  align-items-start">
								
							</div>
					
				</div>
			</div>
		</div>
<footer style="background-color: rgb(53, 52, 52);">
		<div class="container-fluid " id="mediaPlayer">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-3 mt-md-3">
					<div class=" align-items-center d-none " id="musicInfo">
						<div class="d-flex align-items-center w-100 py-2">
							<img src="" class="image-fluid mr-2" style="max-width: 40px; "alt="">	
							<div class="d-flex justify-content-start flex-column">
								<span class="">Song Name</span>
								<small class="">Artists Name</small>
							</div>
							<i class="fas fa-heart ml-3"></i>
						</div>
					</div>
				</div>

				<div class="col-sm-12 col-md-12 col-lg-6 justify-content-between align-items-center pt-2 pb-2 mt-lg-3 mt-md-3">
					<div class="w-100 d-flex align-items-baseline">
						<small class="mr-2">30.00</small>
						<div class="progress w-100 mb-2" style="height:0.1rem;">
						 <div class="progress-bar w-75"  style="background-color:#93A0B0;" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
						</div>
						<small class="ml-2">45.00</small>
					  </div>
					<div class="my-2 d-flex justify-content-center align-items-center">
						<i class="fas fa-lg fa-random align-self-center"></i>
						<i class="fas fa-2x fa-step-backward ml-4"></i>
						<i class="far fa-3x fa-play-circle ml-4"></i>
						<i class="fas fa-2x fa-step-forward ml-4"></i>
						<i class="fas fa-lg fa-redo ml-4"></i>
					</div>
				
				</div>
				<div class="col-sm-6 col-md-3 col-lg-3 d-flex  justify-content-end align-items-center ">
					<p class="mr-3"><i class="fas fa-list"></i></i></p>
					<p class="mr-3"><i class="fas fa-desktop"></i></i></p>
					
					<div class="w-50 d-flex align-items-baseline">
						<p class="mr-2 "><i class="fas fa-volume-up"></i></p>
						<div class="progress w-100 mb-2" style="height:0.1rem;">
						 <div class="progress-bar w-75"  style="background-color:#93A0B0;" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
						</div>
						
					  </div>
							
				</div>
			</div>
        </div>
        </footer>


<script>

	window.onload=function() {
		let URLParams= new URLSearchParams(window.location.search)
		const albumID = URLParams.get('albumId')
		console.log(albumID)
		loadData(albumID)
	}
function loadData(album_id) {
		
		fetch(`https://deezerdevs-deezer.p.rapidapi.com/album/${album_id}`, {
		"method": "GET",
		"headers": {
			"x-rapidapi-host": "deezerdevs-deezer.p.rapidapi.com",
			"x-rapidapi-key": "84d2e1bc2amsh0bcbc81dd32f547p1526bajsncbac98b453bc"
		}
		})
		.then(response => response.json()).then(parsedJSON => {
			
			console.log(parsedJSON)
			
			const albumCover = document.querySelector('.album-cover')
			const playlist=document.querySelector('.list')
			parsedJSON.tracks.data.forEach(element => {
				let li =`
				<li class="d-flex  mb-3 justify-content-between" style="cursor:pointer">
					<div class="d-flex flex-column">
						<span class='song-title'><i class="fa fa-music mr-2" ></i>${element.title}</span>
						<span class="ml-4 pt-0" style="color:#93A0B0" >${parsedJSON.artist.name}</span>
					</div>
						<span class="mr-3">${element.duration/100}</span>
				</li>
				`;
				playlist.innerHTML+=li;
			});
			let albumElement = `
		 					<div class="image-wrapper mt-5 d-flex flex-column align-items-center justify-content-center" >
		 						<img src="${parsedJSON.cover_big}" alt="..." class="img-thumbnail p-0 border-0 rounded-0" style="height: 20rem; object-fit: cover; transition: all 0.1s linear; box-shadow: 0 1px 5px rgba(0,0,0,.53);">
		 						<span class="text-center" style="color:#93A0B0; font-size: 1rem;">${parsedJSON.title}</span>
		 						<span class=" pt-0" style="color:#93A0B0; font-size: 1rem;">${parsedJSON.artist.name}</span>
		 						<button type="button" class="btn btn-success rounded-pill mt-3 mb-2 " style="padding: 5px 50px; font-size: 1.2rem;">Album List</button>
		 						<span class="mt-5 " style="color:#93A0B0; font-size: 2rem;"><i class="fas fa-heart ml-1 "></i></span>
		 				</div>
		 					`;
			albumCover.innerHTML+=albumElement;
		
	
		})
}


</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
</body>
</html>