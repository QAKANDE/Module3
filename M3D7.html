<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
      <div id="users" class="d-flex flex-column container">
        <div class="dropdown mb-3 d-flex justify-content-center">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Select
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="M3D7Name.html">Name</a>
              <a class="dropdown-item" href="M3D7Username.html">Username</a>
              <a class="dropdown-item" href="M3D7Email.html">Email</a>
            </div>
            <form class="form-inline my-2 my-lg-0 mx-2">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
              </form>
          </div>
          <ul id="usernames">
              
          </ul>
          <ul id = userAddress>

          </ul>
          <table class="table">
            <thead class="thead-light">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Username</th>
                <th scope="col">Email</th>
              </tr>
            </thead>
            <tbody id="querySelector">
            </tbody>
          </table>
      </div>
      <script>
          async function getUsers()
          {
              const response = await fetch("https://jsonplaceholder.typicode.com/users")
              const users = await response.json()
              console.log(users)
            //   let userNames = document.createElement('li')
              let main = document.querySelector('#users')
              let listHolder = document.querySelector('#usernames')
              let table = document.querySelector('.table')
              for (i=0 ; i<users.length ; i++)
              {
                  let currentUser = users[i]
                //   listHolder.innerHTML+= 
                //   `
                //   <a href="M3D7Details.html?id=${currentUser.id}"><li>${currentUser.name}</li><a>
                //   `
                 table.innerHTML+=
                 `
                 <tr>
                <th scope="row">${currentUser.id}</th>
         <td><a href="M3D7Details.html?id=${currentUser.id}"> ${currentUser.name} </a></td>
                <td>${currentUser.username}</td>
                <td>${currentUser.email}</td>
              </tr>
                 `
              }
              main.appendChild(listHolder)
          }
          async function getAddress()
          {
           let  address = []
            const response = await fetch("https://jsonplaceholder.typicode.com/users ")
            const users = await response.json()
            let main = document.querySelector('#users')
              let listHolder = document.querySelector('#userAddress')
               let names = users.map( x => x.name + ',' + x.address.street + ',' + x.address.suite + ','
               + x.address.city + ',' + x.address.zipcode)
               console.log(names)
               for (i=0 ; i<names.length ; i++)
               {
                   currentAddress = names[i]
                    listHolder.innerHTML+=
                    `
                    <li>${currentAddress}</li>
                    `
               }
                main.appendChild(listHolder)  
          }
          window.onload = function()
          {
              getUsers()
              getAddress()
          }
      </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
  </html>
